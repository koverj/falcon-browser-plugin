<!DOCTYPE html>
<html>
  <head>
    <title>Network</title>
    <script
      type="text/javascript"
      src="assets/js/vis-network.min.js"
    ></script>
    <style type="text/css">
      #mynetwork {
        position: absolute;
        top: 50%;
        left: 50%;
        margin-right: -50%;
        transform: translate(-50%, -50%);
        width: 90%;
        height: 90%;
        border: 1px solid lightgray;
        background-color: cornsilk;
      }
    </style>
  <meta http-equiv="Content-Security-Policy" content="default-src *;">
  <script type="text/javascript" src="plugin/graph.js"></script>
  </head>
  <body>
    <div id="mynetwork"></div>
    <!-- <script type="text/javascript">
      const req = new XMLHttpRequest();
      req.open("GET", `http://localhost:8086/sitemap`, true);
      req.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
      req.send();

      req.onreadystatechange = function() {
        // Call a function when the state changes.
        if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {
          const resp = JSON.parse(this.responseText);

          // create an array with nodes
          var nodes = new vis.DataSet(resp.nodes);

          // create an array with edges
          var edges = new vis.DataSet(resp.edges);

          // create a network
          var container = document.getElementById("mynetwork");
          var data = {
            nodes: nodes,
            edges: edges
          };
          var options = {
            autoResize: true,
            nodes: {
              shape: "dot",
              size: 20,
              font: {
                size: 15,
                color: "black"
              },
              borderWidth: 1
            },
            edges: {
              width: 2
            },
            physics: {
              barnesHut: { gravitationalConstant: -50000, springLength: 100 },
              stabilization: { iterations: 2500 }
            },
            groups: {
              1: { color: "rgb(0,255,140)" },
              icons: {
                shape: "icon",
                icon: {
                  face: "FontAwesome",
                  code: "\uf0c0",
                  size: 50,
                  color: "orange"
                }
              },
              source: {
                color: { border: "white" }
              }
            },
            legend: true
          };
          var network = new vis.Network(container, data, options);
        }
      };
    </script> -->
  </body>
</html>
